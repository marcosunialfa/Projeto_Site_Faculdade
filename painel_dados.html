<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dados Enviados</title>
    <link rel="stylesheet" href="painel_dados.css">
    <link rel="stylesheet" href="css/estilo_meu_lateral.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
</head>
<body>
    <nav class="meu-lateral">
        <div class="btn-expandir">
            <i class="bi bi-list"></i>
        </div>
        <ul>
            <li class="item-meu">
                <a href="painel_dados.html">
                    <span class="icon"><i class="bi bi-house-door-fill"></i></span>
                    <span class="txt-link">Home</span>
                </a>
            </li>
            <li class="item-meu">
                <a href="visualizar_dados.html">
                    <span class="icon"><i class="bi bi-chat-dots"></i></span>
                    <span class="txt-link">Dados do Formulário</span>
                </a>
            </li>
            <li class="item-meu">
                <a href="dodos_loja.html">
                    <span class="icon"><i class="bi bi-basket"></i></span>
                    <span class="txt-link">Dados da Loja</span>
                </a>
            </li>
            <li class="item-meu">
                <a href="estoque_produtos/index.html">
                    <span class="icon"><i class="bi bi-cart-check"></i></span>
                    <span class="txt-link">Cadastra Produto</span>
                </a>
            </li>
                <li class="item-meu">
                    <a href="estoque_produtos/atualizar_estoque.html">
                        <span class="icon"><i class="bi bi-database-fill-check"></i></span>
                        <span class="txt-link">Atualizar Estoque</span>
                    </a>
            </li>
            <li class="item-meu">
                <a href="estoque_produtos/verEstoque.html">
                    <span class="icon"><i class="bi bi-boxes"></i></span>
                    <span class="txt-link">Estoque</span>
                </a>
            </li>
            <li class="item-meu">
                <a href="Login.html">
                    <span class="icon"><i class="bi bi-power"></i></span>
                    <span class="txt-link">Sair</span>
                </a>
            </li>
        </ul>
    </nav>
    <b>
        <div class="contador-box">
            <!-- Contador de respostas -->
            <div class="contador-item">
                <h1>Total de Respostas</h1>
                <p><strong><span class="numero" id="contadorRespostas">0</span> pessoas responderam ao formulário.</strong></p>
            </div>
    
            <!-- Linha de separação -->
            <div class="linha-separacao"></div>
    
            <!-- Contador de produtos no estoque -->
            <div class="contador-item">
                <h1>Total de Produtos no Estoque</h1>
                <p><strong><span class="numero" id="contadorProdutos">0</span> produtos estão no estoque.</strong></p>
            </div>
        </div>
    </b>
    
    <script>
    // Função para contar o total de respostas do formulário
    function contarRespostasFormulario() {
        // Recupera os dados do localStorage
        let dados = JSON.parse(localStorage.getItem('dadosFormularios')) || [];
    
        // Atualiza o contador com o número de respostas
        const contadorRespostas = document.getElementById('contadorRespostas');
        contadorRespostas.textContent = dados.length;
    }
    
    // Função para contar o total de produtos no estoque
    function contarTotalEstoque() {
        if (typeof(Storage) !== "undefined") {
            let produtos = JSON.parse(localStorage.getItem("produtos")) || [];
            let totalProdutos = 0;
    
            // Soma a quantidade de cada produto no estoque
            produtos.forEach(produto => {
                totalProdutos += produto.quantidade;
            });
    
            // Atualiza o contador com o total de produtos no estoque
            document.getElementById("contadorProdutos").textContent = totalProdutos;
        } else {
            alert("A versão do seu navegador é muito antiga. Por isso, não será possível executar essa aplicação");
        }
    }
    
    // Chama as funções para atualizar os contadores ao carregar a página
    document.addEventListener("DOMContentLoaded", function () {
        contarRespostasFormulario(); // Atualiza as respostas do formulário
        contarTotalEstoque(); // Atualiza o total de produtos no estoque
    });
    </script>
    

    
</body>
</html>
